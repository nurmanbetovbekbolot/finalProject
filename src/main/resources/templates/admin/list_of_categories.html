<!DOCTYPE html>
<layout:html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml" lang="en"
             layout:decorate="~{layout}">
    <div layout:fragment="content">
        <div class="container">
            <div class="row">
                <div class="col-lg-11">
                    <h3 style="text-align: center; font-family: 'Gilroy Light', sans-serif; color: #2b3b55">
                        <span class="iconify"
                              data-inline="false"
                              data-icon="si-glyph:document-bullet-list"
                              style="color: #2b3b55;font-size: 50px; margin-right: 30px"></span>
                        Список услуг</h3>

                </div>

                <div class="col-lg-1">
                    <button type="button" class="btn btn-link">
                        <span class="iconify" data-inline="false"
                              data-icon="si-glyph:basket-plus"
                              style="color: #2b3b55;font-size: 40px;"></span>
                    </button>
                </div>
            </div>
        </div>
        <br>
        <div class="container">
            <div class="accordion md-accordion" th:id="'accordionEx'+${category.id}" role="tablist"
                 aria-multiselectable="true"
                 th:each="category : ${categoryList}">
                <div class="card card_acc">
                    <div style="outline:2px solid #2b3b55; background: #FFFFFF" class="card-header c-h" role="tab"
                         th:id="'headingOne'+${category.id}">
                        <div class="row">
                            <div class="col-lg-11">
                                <h5 class="mb-0" style="color: #2b3b55;font-family: 'Gilroy Light'"
                                    th:text="${category.title}">
                                </h5>
                            </div>
                            <div class="col-lg-1">
                                <div class="row">
                                    <a data-toggle="collapse" th:attr="data-parent='#accordionEx'+${category.id}"
                                       th:href="'#collapseOne'+${category.id}"
                                       aria-expanded="true"
                                       aria-controls="collapseOne1">
                                        <span class="iconify centered" data-inline="false"
                                              data-icon="dashicons:arrow-down-alt2"
                                              style="color: #2b3b55; font-size:25px; margin-top: -10px"></span></a>
                                    <button th:if="${category.getId() != category.title}" type="button" style="color: white;"
                                            class="btn btn-link" data-toggle="modal"
                                            th:attr="data-target='#recordDeleteModal'+${category.id}">
                                    <span class="iconify" data-inline="false"
                                          data-icon="eva:person-delete-fill"
                                          style="color: #2b3b55;font-size:25px;"></span>
                                    </button>
                                    <div data-backdrop="false" class="modal fade"
                                         th:attr="id='recordDeleteModal'+${category.id}" tabindex="-1" role="dialog"
                                         aria-labelledby="recordDeleteModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="recordDeleteModalLabel">Удаление
                                                        пользователя</h5>
                                                    <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <label>Вы действительно хотите удалить?</label>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Нет
                                                    </button>
                                                    <form th:action="@{/category/delete/{id}(id = ${category.id})}"
                                                          method="post">
                                                        <button type="submit" class="btn btn-info m-t-10">Да</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div th:id="'collapseOne'+${category.id}" class="collapse show" role="tabpanel"
                         th:attr="data-parent='#accordionEx'+${category.id}"
                         aria-labelledby="headingOne1">
                        <div class="card-body c-b">
                            <div class="card-deck">
                                <div class="card card_acc1">
                                    <h5 class="card-title" th:text="${category.title}">Название </h5>
                                </div>
                                <div class="card card_acc1">
                                    <h5 class="card-title" th:text="${category.title}">Описание</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br><br>

        <div class="container con3">
            <ul class="pagination justify-content-center">
                <li class="page-item" th:if="${categoryList.hasPrevious()}">
                    <a class="page-link" th:href="@{/category/list(page=${categoryList.number -1})}"> < </a>
                </li>
                <th:block th:each="i: ${#numbers.sequence(0, categoryList.totalPages - 1)}">
                    <li class="page-item active" th:if="${categoryList.number == i}">
                        <a th:href="@{/category/list(page=${i})}" class="page-link ">[[${i}+1]]</a>
                    </li>
                    <li class="page-item" th:unless="${categoryList.number == i}">

                        <a th:href="@{/category/list(page=${i})}" class="page-link">[[${i}+1]]</a>
                    </li>
                </th:block>
                <li class="page-item" th:if="${categoryList.hasNext()}">
                    <a class="page-link" th:href="@{/category/list(page=${categoryList.number+1})}"> > </a>
                </li>
            </ul>
        </div>
    </div>
</layout:html>